(window.webpackJsonpharmovis_examples=window.webpackJsonpharmovis_examples||[]).push([[0],{110:function(e,t,n){e.exports=n(166)},116:function(e,t,n){},151:function(e,t){},152:function(e,t){},153:function(e,t){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(78),o=n.n(i),c=(n(115),n(116),n(0)),l=n(2),s=n(3),u=n(10),p=n(9),m=n(11),d=n(38),b=n(48),v=n(58),g=n.n(v)()(),h=g("SET_HEATMAP_SIZE"),f=(g("SET_PARTICLE_COUNT"),g("TOGGLE_HEATMAP")),O=g("CHANGE_HEATMAP_TYPE"),E=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)(),a=e.min,i=e.max;return r.a.createElement("div",null,t.gridSize,r.a.createElement("input",{type:"range",value:t.gridSize,onChange:function(e){n(h(parseInt(e.currentTarget.value)))},min:a,max:i}))};E.defaultProps={min:100,max:5e3};var y,j=E,w=n(35);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Hexagon="Hexagon",e.Grid="Grdi"}(y||(y={}));var T={selectedType:y.Hexagon,enabledHeatmap:!0,gridSize:400,particleCount:3e3},k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"renderLayers",value:function(){var e=this.props,t=e.movedData,n=e.type,a=e.size,r=e.visible;return n===y.Hexagon?[new w.d({visible:r,opacity:.1,extruded:!0,elevationScale:10,data:t,radius:a,getPosition:function(e){return[e.longitude,e.latitude]}})]:[new w.c({visible:r,opacity:.1,elevationScale:10,extruded:!0,cellSize:a,data:t,getPosition:function(e){return[e.longitude,e.latitude]}})]}}]),t}(w.b);k.layerName="HeatmapLayer";n(165);var D=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)();return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:t.enabledHeatmap,onChange:function(e){n(f(e.currentTarget.checked))}}),t.enabledHeatmap?"  ENABLED":"  DISABLED")},H=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)();return r.a.createElement("select",{value:t.selectedType,onChange:function(e){n(O(e.currentTarget.value))}},r.a.createElement("option",{value:y.Hexagon},"Hexagon"),r.a.createElement("option",{value:y.Grid},"Grid"))};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var A="pk.eyJ1IjoidG1rbnltIiwiYSI6ImNrMTd0N3hzcDFmcjkzaHAzNng3dGsxb3kifQ.EBD9eRBGp5zJWcu1Yk4wgQ",z=function(e){return Array.from({length:e},(function(){return{departuretime:1551575400,arrivaltime:1551595400,operation:Array.from({length:20},(function(e,t){return{position:[136.7+Math.floor(299999*Math.random())/1e6,35.1+Math.floor(199999*Math.random())/1e6,0],elapsedtime:1551575400+1e3*t}}))}}))},_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/harmovis_examples/build",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoidG1rbnltIiwiYSI6ImNrMTd0N3hzcDFmcjkzaHAzNng3dGsxb3kifQ.EBD9eRBGp5zJWcu1Yk4wgQ"}));var e=this.props,t=e.actions,n=e.particleCount;t&&(t.setMovesBase(z(n)),t.setViewport(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.viewport,{width:window.screen.width,height:window.screen.height})),t.setSecPerHour(100))}},{key:"render",value:function(){var e=this.props,t=e.settime,n=e.timeBegin,a=e.timeLength,i=e.actions,o=e.clickedObject,c=e.depotsData,l=e.secperhour,s=e.animatePause,u=e.animateReverse,p=e.viewport,m=e.routePaths,b=e.lightSettings,v=e.movesbase,g=e.movedData,h=e.gridSize,f=e.enabledHeatmap,O=e.selectedType;return void 0!==i&&void 0!==t&&void 0!==b&&void 0!==a&&void 0!==n&&void 0!==l&&p&&m&&v&&g&&void 0!==o&&c?r.a.createElement("div",null,r.a.createElement("div",{className:"harmovis_controller"},r.a.createElement("ul",null,r.a.createElement("li",null,s?r.a.createElement(d.i,{actions:i}):r.a.createElement(d.h,{actions:i}),u?r.a.createElement(d.d,{actions:i}):r.a.createElement(d.j,{actions:i})),r.a.createElement("li",null,r.a.createElement(d.a,{addMinutes:-5,actions:i}),r.a.createElement(d.a,{addMinutes:5,actions:i})),r.a.createElement("li",null,"elapsed time:",r.a.createElement(d.c,{settime:t,timeLength:a,timeBegin:n,actions:i})),r.a.createElement("li",null,"speed:",r.a.createElement(d.k,{secperhour:l,actions:i}))),r.a.createElement("figure",null,r.a.createElement("figcaption",null,"Heatmap settings"),r.a.createElement("ol",null,r.a.createElement("li",null,"enable heatmap: ",r.a.createElement(D,null)),r.a.createElement("li",null,"grid size(m): ",r.a.createElement(j,null)),r.a.createElement("li",null,"type: ",r.a.createElement(H,null))))),r.a.createElement("div",{className:"harmovis_area"},r.a.createElement(d.f,{viewport:p,actions:i,mapboxApiAccessToken:A,layers:[new d.g({routePaths:m,movesbase:v,movedData:g,clickedObject:o,actions:i,lightSettings:b,optionVisible:!1}),new k({visible:f,type:O,movedData:g,size:h})]})),r.a.createElement(d.e,null)):r.a.createElement("div",null)}}]),t}(d.b),N=Object(d.l)(_,void 0);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=n(63),M=n(107),B=Object(M.a)(),G=Object(I.d)(Object(d.m)({heatmapSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(v.isType)(t,h)?S({},e,{gridSize:t.payload}):Object(v.isType)(t,h)?S({},e,{particleCount:t.payload}):Object(v.isType)(t,f)?S({},e,{enabledHeatmap:t.payload}):Object(v.isType)(t,O)?S({},e,{selectedType:t.payload}):e}}),Object(I.a)(B));o.a.render(r.a.createElement(b.a,{store:G},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[110,1,2]]]);
//# sourceMappingURL=main.44cd9aba.chunk.js.map