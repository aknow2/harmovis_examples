(window.webpackJsonpharmovis_examples=window.webpackJsonpharmovis_examples||[]).push([[0],{110:function(e,t,n){e.exports=n(166)},116:function(e,t,n){},151:function(e,t){},152:function(e,t){},153:function(e,t){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(78),c=n.n(i),o=(n(115),n(116),n(0)),l=n(2),u=n(3),s=n(10),d=n(9),p=n(11),m=n(39),b=n(37),v=n(55),g=n.n(v)()(),h=g("SET_HEATMAP_SIZE"),E=(g("SET_PARTICLE_COUNT"),g("TOGGLE_HEATMAP")),f=g("CHANGE_HEATMAP_TYPE"),O=g("EXTRUDE_HEATMAP"),y=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)(),a=e.min,i=e.max;return r.a.createElement("div",null,t.gridSize,r.a.createElement("input",{type:"range",value:t.gridSize,onChange:function(e){n(h(parseInt(e.currentTarget.value)))},min:a,max:i}))};y.defaultProps={min:100,max:5e3};var j,w=y,P=n(35);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Hexagon="Hexagon",e.Grid="Grid"}(j||(j={}));var x={selectedType:j.Hexagon,enabledHeatmap:!0,gridSize:400,particleCount:3e3,extruded:!0},D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"renderLayers",value:function(){var e=this.props,t=e.movedData,n=e.type,a=e.size,r=e.visible,i=e.extruded;return n===j.Hexagon?[new P.d({visible:r,extruded:i,opacity:.1,elevationScale:10,data:t,radius:a,getPosition:function(e){return[e.longitude,e.latitude]}})]:[new P.c({visible:r,extruded:i,opacity:.1,elevationScale:10,cellSize:a,data:t,getPosition:function(e){return[e.longitude,e.latitude]}})]}}]),t}(P.b);D.layerName="HeatmapLayer";n(165);var S=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)();return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:t.enabledHeatmap,onChange:function(e){n(E(e.currentTarget.checked))}}),t.enabledHeatmap?"  ENABLED":"  DISABLED")},A=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)();return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:t.extruded,onChange:function(e){n(O(e.currentTarget.checked))}}),t.extruded?"  ENABLED":"  DISABLED")},H=function(e){var t=Object(b.d)((function(e){return e.heatmapSettings})),n=Object(b.c)();return r.a.createElement("select",{value:t.selectedType,onChange:function(e){n(f(e.currentTarget.value))}},r.a.createElement("option",{value:j.Hexagon},"Hexagon"),r.a.createElement("option",{value:j.Grid},"Grid"))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var z="pk.eyJ1IjoidG1rbnltIiwiYSI6ImNrMTd0N3hzcDFmcjkzaHAzNng3dGsxb3kifQ.EBD9eRBGp5zJWcu1Yk4wgQ",N=function(e){return Array.from({length:e},(function(){return{departuretime:1551575400,arrivaltime:1551595400,operation:Array.from({length:20},(function(e,t){return{position:[136.7+Math.floor(299999*Math.random())/1e6,35.1+Math.floor(199999*Math.random())/1e6,0],elapsedtime:1551575400+1e3*t}}))}}))},B=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/harmovis_examples/build",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoidG1rbnltIiwiYSI6ImNrMTd0N3hzcDFmcjkzaHAzNng3dGsxb3kifQ.EBD9eRBGp5zJWcu1Yk4wgQ"}));var e=this.props,t=e.actions,n=e.particleCount;t&&(t.setMovesBase(N(n)),t.setViewport(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props.viewport,{width:window.screen.width,height:window.screen.height})),t.setSecPerHour(100))}},{key:"render",value:function(){var e=this.props,t=e.settime,n=e.timeBegin,a=e.timeLength,i=e.actions,c=e.clickedObject,o=e.depotsData,l=e.secperhour,u=e.animatePause,s=e.animateReverse,d=e.viewport,p=e.routePaths,b=e.lightSettings,v=e.movesbase,g=e.movedData,h=e.gridSize,E=e.enabledHeatmap,f=e.selectedType,O=e.extruded;return void 0!==i&&void 0!==t&&void 0!==b&&void 0!==a&&void 0!==n&&void 0!==l&&d&&p&&v&&g&&void 0!==c&&o?r.a.createElement("div",null,r.a.createElement("div",{className:"harmovis_controller"},r.a.createElement("ul",null,r.a.createElement("li",null,u?r.a.createElement(m.i,{actions:i}):r.a.createElement(m.h,{actions:i}),s?r.a.createElement(m.d,{actions:i}):r.a.createElement(m.j,{actions:i})),r.a.createElement("li",null,r.a.createElement(m.a,{addMinutes:-5,actions:i}),r.a.createElement(m.a,{addMinutes:5,actions:i})),r.a.createElement("li",null,"elapsed time:",r.a.createElement(m.c,{settime:t,timeLength:a,timeBegin:n,actions:i})),r.a.createElement("li",null,"speed:",r.a.createElement(m.k,{secperhour:l,actions:i}))),r.a.createElement("figure",null,r.a.createElement("figcaption",null,"Heatmap settings"),r.a.createElement("ol",null,r.a.createElement("li",null,"enable heatmap: ",r.a.createElement(S,null)),r.a.createElement("li",null,"3D: ",r.a.createElement(A,null)),r.a.createElement("li",null,"grid size(m): ",r.a.createElement(w,null)),r.a.createElement("li",null,"type: ",r.a.createElement(H,null))))),r.a.createElement("div",{className:"harmovis_area"},r.a.createElement(m.f,{viewport:d,actions:i,mapboxApiAccessToken:z,layers:[new m.g({routePaths:p,movesbase:v,movedData:g,clickedObject:c,actions:i,lightSettings:b,optionVisible:!1}),new D({visible:E,type:f,extruded:O,movedData:g,size:h})]})),r.a.createElement(m.e,null)):r.a.createElement("div",null)}}]),t}(m.b),I=Object(m.l)(B,void 0);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(63),G=n(107),C=Object(G.a)(),L=Object(M.d)(Object(m.m)({heatmapSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;return Object(v.isType)(t,h)?k({},e,{gridSize:t.payload}):Object(v.isType)(t,h)?k({},e,{particleCount:t.payload}):Object(v.isType)(t,E)?k({},e,{enabledHeatmap:t.payload}):Object(v.isType)(t,f)?k({},e,{selectedType:t.payload}):Object(v.isType)(t,O)?k({},e,{extruded:t.payload}):e}}),Object(M.a)(C));c.a.render(r.a.createElement(b.a,{store:L},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[110,1,2]]]);
//# sourceMappingURL=main.65ee8cf7.chunk.js.map